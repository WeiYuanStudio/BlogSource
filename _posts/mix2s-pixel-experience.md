---
title: 小米Mix2S刷入Pixel Experience错误7解决以及体验
date: 2018-12-15 18:31:33
thumbnail: https://ww1.sinaimg.cn/large/007i8nDUgy1fy7mjtqme3j31hc0u07cz.jpg
toc: true
categories:
 - 教程
 - 刷机
 - Android
 - 踩坑
 - 笔记
tags:
 - Android
 - 刷机
 - 教程
---
在高考完后，博主购入了一台小米Mix2S。当时到手后，度日如年的熬过了三天解锁日后。刷入了MIUI Global（MIUI国际版），让手机里的谷歌全家桶和毒瘤共存了将近一个暑假加半个学期。之后为了“安全起见”，又去闲鱼购入了一台魅蓝mental来专门跑毒瘤。但是没有用两个星期就坚持不了了，实在是太卡了，行，毒瘤你赢了。这时候我寻思着将毒瘤装回Mix2S主力中，因为分开一张卡一台手机太麻烦了，而且，这么一隔离后，Mix2S基本在吃灰状态，忙得基本没时间水推。富（fu）强（qiang）看推也不是刚需。基本上查学术用谷歌才是，而且~~我永远喜欢G Suite。~~所以趁着毒瘤都在魅蓝里面，我可以大胆刷机不用怕失联了2333
刷机前的计划是选择Pixel Experience（以下称PE吧）或者是Lineage,一开始看这俩货都木有Mix2S的刷机包。PE比Lineage好一点，起码还有一个Mix2S的预留页面，Lineage是直接连Mix2S的页面都没有的说。于是进入了漫长的等待，终于等来了Mix2S的第一版PE`Pixel Experience-20181127-1746-OFFICIAL`遂刷入。最令人气愤的还是，刷了MIUI Global一直没用进过Recovery去看过，这次刷机的时候才发现我原来的TWRP已经被替换成MIUI官方Recovery了，Orz
又要重新找Mix2S的TWRP资源。[MIUI论坛](http://www.miui.com/thread-15615906-2-1.html)&[TWRP的度盘](http://www.miui.com/thread-15615906-1-1.html)然后是刷入过程，这里就不详细讲了，MIUI论坛大把大把的是，一搜就有了。

<!--more-->

# 错误7解决办法
这里主要讲我遇到的问题，刷入的时候发现提示错误7。如图

![Error7](http://ww1.sinaimg.cn/large/007i8nDUgy1fy5hc4d2tlj311z234x6p.jpg)

```
ERROR: This package requires firmware from MIUI 8.11.15 developer build or newer. Please upgrade firmware and retry!
```
~~请无视我上面一堆MTP开了又关的日志，貌似是电脑驱动问题什么的，没法往手机里面拷刷机包，只能用OTG功能接U盘刷机了，其实还方便一些，因为拷到U盘里面方便系统崩了下次刷2333~~
看提示是说底包版本不够，于是我又刷了图中所说的`MIUI 8.11.15 developer build`然后来刷，依旧是这样报错。只好来点硬核的了。
首先使用7-ZIP打开压缩包（不要解开压缩包），然后按照这个路径`META-INF->com->google->android->update-script`找到`update-script`文件。右键`编辑`功能打开该文件找到首三行

![edit-updater-script](http://ww1.sinaimg.cn/large/007i8nDUgy1fy5j7tszexj30y50i4n6t.jpg)

如图前面以assert开头的三行统统删了就是了。然后保存，这时候再保存压缩包，压缩软件会自动再打包一次**整个压缩包**。所以相对来说时间会更长一些，视硬盘的速度而论。
打包好后就将压缩包再次通过MTP拉到手机当中，或者使用U盘连接到手机上，TWRP选择挂载OTG，选择压缩包，这时候没有了底包版本检测脚本就可以成功刷入了。但是就是不知道不刷底包能否成功刷入PE。（舍友的小米Note3刷PE的时候，我看了下`update-script`文件，发现并没有类似的几行检测脚本。所以我相信Mix2S刷机脚本中的指示有他存在的道理，大概是需要没有分离出内核需要以底包来驱动硬件？推荐是先刷入`MIUI 8.11.15 developer build`作为底包然后再刷入PE。[这是论坛里Mix2S各种官方MIUI下载链接合集](https://www.miui.com/thread-13660832-1-1.html) 注意，刷完底包不要进入MIUI以免Recovery被覆盖为官方Recovery。直接进入Recovery，接着马上刷入PE的包，完成后开机，如果没有遇到问题的话就能成功进入系统了
晒一下开机动画，这张壁纸被我换了，原壁纸并不是这个。

![Boot](http://ww1.sinaimg.cn/large/007i8nDUgy1fy7bslv83eg308w08wu0y.gif)

~~立个Flag，有时间再去测试一遍没有底包刷入能不能成功开机吧。毕竟已经迁移完了毒瘤们，不方便折腾了。如果还没刷机的大佬可以试试，然后请务必告诉我结果。Emmm~~

**不过以上方法有个致命的问题，那就是OTA升级的时候，依然会碰到错误7，需要重复以上步骤打开压缩包，编辑`update-script`刷机脚本然后重新打包。**~~现在我已经收到了`20181210`的升级推送，然而并不能成功升级，就和上面一样报错误7，我已经失去了升级的欲望了，等哪天官方做出不需要底包的包了再清空System分区重新刷机一遍吧~~
#以前刷国际版的体验
~~第一次刷类原生你敢信~~
博主的第一台手机是魅蓝Note，当年初二的时候iPhone出5C了，很喜欢那种圆润光滑的碳酸聚酯外壳设计。如果现在出这种造型我依然会买，碳酸聚酯的温润感是玻璃和金属外壳所不能赋予的，~~特别是冬天打字的时候金属外壳掌托那酸爽，没错小米笔记本，说的就是你 雾～~~看见魅蓝Note长的像5C就买了。
由于魅族的祖传锁BL所以根本没有刷机的机会。那时候千元机都是很安分的，系统基本上也是干干净净，没有多少预装和毒瘤广告。当年MIUI不就是做刷机包出名的吗。~~后来MIUI开创了国产机（手机&电视）内嵌广告的先河，~~各种手机厂商都学坏了。往手机里添广告，千元级实乃广告屏，每天雷打不动的是各种广告推送，在你工作学习的时候打断你。后来在千元机潮的时候我将我的魅蓝Note 刷入了国际版Flyme。这次Mix到手在三天不可解锁期间也体验了一把国内版MIUI，发现广告并不如魅族的千元机多，或者说广告推送和手机的机型是有一定的关联的————千元机的推送策略和旗舰机有区别对待？23333 
MIUI国内版迁移到国际版的**优点**是去除了广告和大量的系统**可卸载性**预装。依然拥有国内支付软件的指纹认证API ~~怕不是就是为了保留这部分刷机用户~~ **缺点**是手机要被解锁，安全性下降，无法使用小米钱包进行**NFC闪付**，无法使用**公交卡**功能，当然NFC基础功能还是不受影响的。无法使用**电信卡**（据说是可以通过安装信号大师之类的软件进行修改），无法使用**小爱同学**。这对于我来说都是不太必要的功能。问题不大。
#这次刷PE的体验

在这里我尽量提到那些致命的问题。特别是硬件支持方面的。（注意该文章的更新时间，这篇文章是基于181105版本编写的，所以有可能问题在后面的版本号解决了）

 - 从国际版MIUI再到PE的体验，预装软件基本上只有那几个G Suite， ~~谷歌全家桶的事，能叫预装吗~~ 如果不喜欢G Suite，可以选择刷入Lineage。
 - 整个系统极具谷歌味（Material Design)
 - 屏幕色彩貌似得到了提升，总体观感上来说饱和度提升，色温倾暖
 - 失去了原装相机，系统自带相机基本是不能看的级别，DXO满分相机瞬间被打回千元机水准，当然这是支持谷歌相机API的，所以你一定要去商店里面找谷歌相机安装上去作为主相机，蓝底图标的是系统内置相机，白底图标的就是谷歌相机了 ~~微信拍照都比系统预装相机更高清好吗~~ **装回谷歌相机画质基本可以拉回到MIUI原生相机的水准了**，不过**二倍镜（双摄）貌似也是失效了**，至少来说我并没有发现在哪个功能利用上了第二个镜头，第二只眼基本是瞎了吧。但是虚化功能依旧是可用的，只不过这次的虚化谷歌通过以单摄和各种运动传感器与算法结合实现。拍照的时候你需要微微上移手机镜头，让手机理解整个场景的景深关系。 ~~谷歌说过，能算法解决的事情，为什么要上硬件，我算法就是这么硬核~~ 总体来说，和双摄虚化水平基本持平，不过遇到某些场景需要长焦就有点尴尬了，~~比如说抢不到前排位置需要拍笔记的时候~~ MIUI原生相机开启二倍镜然后再加上数码变焦基本上是逆天的，我对这个拍照功能十分满意，现在的话，就没法八倍镜拍笔记了。相机操作相比MIUI相机也简约了，功能也少了，基本侧栏是功能是**慢镜头**，**全景**，**Photo Sphere**，**镜头模糊**（就是虚化模式）残念是失去了MIUI相机里面的M档（手动模式），现在无法长曝光了。~~算了，长曝光也是要三脚架的，都带三脚架了，还不带相机吗，又不是没有相机~~在顶栏上面是自拍定时器、辅助线、色温模式、闪光灯开关，在设置里面，后摄像素最高支持到12.2百万像素，前摄像素最高支持到5.0百万像素，好像没啥问题，Mix2S原本就是这个像素。后摄录像分辨率最高可达4K(30 fps)如果选择1080p的话可以支持到60 fps，前摄是HD 1080p，最后还有一个视频防抖开关（话说光学防抖还有生效吗？），和原来的MIUI相机差别不大。**关于Photo Sphere的一点小惊喜，** [Photo Sphere](https://www.youtube.com/watch?time_continue=55&v=NPs3eIiWRaw)相当于一个全景相机，什么全景相机，那你一定会问那为什么我上面功能列表里面还有一个全景相机，是写错了吗？不，并不是，此全景非彼全景，这个全景相机应该说是AR全景，在以前大家认知中的全景相机里面，都是只能水平拍摄风景，但是这个相机不同，它可以做到上下左右360°无死角拍摄。而且拍出来的照片可以以AR模式播放。如果有条件的话，你大概还可以用Google Cardboar来观看吧。想放一张宿舍的全景，不知道网页端该咋放上来。（**自己安装的谷歌相机有一定几率会罢工无法启动**，于2019.1.21添加）
 - 吐槽相机最大的问题，**闪光灯**，这货在晚上拍照基本是瞎的，因为他根本没法判断闪光灯开启后的曝光水平，基本上近距离拍照，分分钟过爆给你看。一开闪光灯整个画面都是一片白2333，这个问题希望官方后期解决吧。
 - **OTA升级变得困难**，如果没有找到办法解决错误7，使用了我上面硬核的方法的话，那么后续升级也只能先修改刷机包，然后重新打包升级，这是个很憋屈的问题，但是也没有办法。除非说官方已经能把内核从MIUI中提取出来然后打入刷机包中。或许这也是为什么Lineage还没有更新Mix2S机型刷机包的原因，坐等吧。
 - **通知提示灯异常**，消息指示灯和打了鸡血似的，消息推送的时候和爆闪一般。感觉灯要被闪坏了，因为在MIUI使用过程中，我从来没试过闪光灯如此的亮。还好平时充电的时候和MIUI的亮度是一致的。
 - **失去了国产支付软件指纹API**，当然解锁指纹是丝毫不受影响的，可以正常使用，只是支付的时候比较头疼，要手动输入密码，每次支付的时候都得顾虑周围有没有人在偷看密码。Orz，好怀念我的MIUI
 - **快充正常**，依然是那么快。无线充电也完美支持，放上充电底座后，连充电动画特效也是支持的。只是在连接快充充电器后，QC标志不会不会显示，还好锁屏界面会有提示。
 - 刷机后**电信信号可用**，比国际版MIUI更加全面的信号，全网通基本回来了，信号指示略微逼死强迫症，路由器如果没有挂透明dai li的话，WiFi标志会一直呈现出一个X的标志，大概是Ping谷歌来检测网络吧， ~~网络无连接，没毛病，局域网再大也不能算是互联网啊，23333~~ 。移动数据方面就别提了，信号指示比MIUI更加真实，因为信号标志波动更加明显，以往MIUI几乎只有两种网络状态要么没信号，要么满格，以表示自己信号很好，貌似国产机都是这样，刷了PE之后，我觉得信号指示更加的科学。基本上可以作为网络连接质量的参考，~~也不知道是刷完后自己信号差了还是显示信号强度区间不同了2333,不过个人觉得网速没有影响，在学校里面这么多人，该卡还是卡。顺便黑了顿吉珠的移动破网。~~境内无法联网标志依然存在。
 - **后台冻结能力基本为零**，毒瘤们在后台玩的欢，这种情况还是老老实实上绿守黒阈吧，qwq，当然，我为了上面所提到的安全问题，装了island（炼妖壶）,将国产毒瘤全部隔离到岛（壶中界）内了。界内的应用无法访问外部资料，只能读取界内应用，相当于双系统环境了。缺点是使用了island后，绿守对岛内的封杀能力在我这已经是失效了。看着内存空间够，也就懒得理后台了，占用率实际上和当初用MIUI差不多，基本都是60%左右。希望作者能早日改进下island的岛内冻结功能。
 - **距离传感器无法使用**，打电话的时候全程亮屏，而且尽量不要碰到屏幕，不然会误触的。因为没有自动锁屏。

# 写在最后的安利

如果你是一个谷粉，如果你喜欢G Suite，如果你拥有良好的线路，如果会在路由器上使用透明daili，请不要犹豫，Pixel Experience一定不会让你失望的。赶紧刷入了吧。

# 更新日志（追加内容）

这里贴入Changelog，本人并没有精力去尝试所有版本，所以还请保守刷入。

> 20181230
> Changelog for 30.12.2018 build:
> - Compiled with Clang (stable) 使用Clang编译
> - Kernel upstreamed to Linux 4.9.146 内核上游至4.9.146
> - Added aptX and aptX-HD 增加对aptX和aptX-HD的支持，高品质蓝牙连接协议的支持
> - Enabled pulse settings 这里不是很清楚，大概是增加对震动的设置吧
> - Added hotworld enrollment (OK Google with screen on  and off) 应该是改善OK Google在熄屏的识别
> - Weather on lockscreen improved 锁屏天气支持
> - Ambient Play improved 支持氛围音乐，难道是时钟内的白噪音吗？
> - Added saving options for AmbientPlay 增加氛围音乐中的保存选项

> 20190128
> Changelog for 28.01.2019 build:
> - Kernel upstreamed to Linux 4.9.153 内核上游至4.9.153
> - Added QCOM's WiFi Display implementation 高通WiFi显示？ 
> - Added support for High Brightness Mode (HBM) 增加高亮模式支持。难道是类似小米阳光屏那样通过对显示对比度的调整增强阳光下的显示清晰吗？
> - Support Alipay and WeChat fingerprint payment 增加支付宝和微信的指纹支持（这个开发者是国人吧2333
> - Power optimizations 省电优化
> - Misc changes 和其他杂项改善

PS：以上追加部分于2019.2.9追加，此时博主还是用着最旧版的20181127-1746版本，真的没有那么多时间刷机啦。虽然说更新了很多东西。